<?xml version="1.0" encoding="UTF-8"?>
<cdoServer>

  <!-- ============================================================== -->
  <!-- See http://wiki.eclipse.org/CDO/Server_Configuration_Reference -->
  <!-- ============================================================== -->

  <acceptor type="tcp" listenAddr="0.0.0.0" port="2036"/>

  <repository name="lm">
    <property name="overrideUUID" value=""/>
    <property name="supportingAudits" value="true"/>
    <property name="supportingBranches" value="true"/>
    <property name="supportingUnits" value="false"/>
    <property name="checkUnitMoves" value="false"/>
    <property name="ensureReferentialIntegrity" value="false"/>
    <property name="allowInterruptRunningQueries" value="true"/>
    <property name="idGenerationLocation" value="STORE"/>
    <property name="commitInfoStorage" value="WITH_MERGE_SOURCE"/>
    <property name="serializeCommits" value="false"/>
    <property name="optimisticLockingTimeout" value="10000"/>

    <store type="db">
      <property name="connectionKeepAlivePeriod" value="60"/>
      <property name="readerPoolCapacity" value="20"/>
      <property name="writerPoolCapacity" value="20"/>
      <mappingStrategy type="horizontal">
        <property name="qualifiedNames" value="true"/>
        <property name="withRanges" value="false"/>
        <property name="eagerTableCreation" value="false"/>
        <property name="typeMappingProvider" value="registry"/>
      </mappingStrategy>
      <dbAdapter name="h2"/>
      <dataSource class="org.h2.jdbcx.JdbcDataSource"
        URL="jdbc:h2:/develop/cdo-master/h2/lm;LOCK_TIMEOUT=10000;TRACE_LEVEL_FILE=0"/>
    </store>

    <lifecycleManager type="default" systemName="CDO-LM" moduleDefinitionPath="module.md">
      <moduleTemplate name="$MODULE$">
        <property name="overrideUUID" value="" />
        <property name="supportingAudits" value="true" />
        <property name="supportingBranches" value="true" />
        <property name="supportingUnits" value="false" />
        <property name="checkUnitMoves" value="false" />
        <property name="ensureReferentialIntegrity" value="false" />
        <property name="allowInterruptRunningQueries" value="true" />
        <property name="idGenerationLocation" value="STORE" />
        <property name="serializeCommits" value="false" />
        <property name="optimisticLockingTimeout" value="10000" />
        <property name="org.eclipse.emf.cdo.server.admin.ignore" value="true" />

        <store type="db">
          <property name="connectionKeepAlivePeriod" value="60" />
          <property name="readerPoolCapacity" value="20" />
          <property name="writerPoolCapacity" value="20" />
          <mappingStrategy type="horizontal">
            <property name="qualifiedNames" value="true" />
            <property name="withRanges" value="true" />
          </mappingStrategy>
          <dbAdapter name="h2" />
          <dataSource class="org.h2.jdbcx.JdbcDataSource"
            URL="jdbc:h2:/develop/cdo-master/h2/lm_$MODULE$;LOCK_TIMEOUT=10000;TRACE_LEVEL_FILE=0;DB_CLOSE_ON_EXIT=FALSE" />
        </store>
      </moduleTemplate>
    </lifecycleManager>
  </repository>

</cdoServer>
